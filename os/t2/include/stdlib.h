/* ************************************************************************** */
/* ************************************************************************** */
/*                                                                            */
/* Author: Jarret Shook                                                       */
/*                                                                            */
/* Module: stdlib.h                                                           */
/*                                                                            */
/* Modifications:                                                             */
/*                                                                            */
/* 13-June-13: Version 1.0: Last Updated                                      */
/* 13-June-13: Version 1.0: Created                                           */
/*                                                                            */
/* Version: 1.0                                                               */
/*                                                                            */
/* Timeperiod: ev7                                                            */
/*                                                                            */
/* ************************************************************************** */
/* ************************************************************************** */

#ifndef __STDLIB_H__
#define __STDLIB_H__

/* ************************************************************************** */
/* ************************************************************************** */

#include <stddef.h>

#include "bn_tree.h"
#include "hash_table.h"
#include "node.h"

#include "sysbrk.h"

/* ************************************************************************** */
/* ************************************************************************** */

/* 1,048,576 (1MB power of 2) */
#define MALLOC_SIZE 1048576

/* 256 bytes */
#define MALLOC_UPDATE_THRESHOLD 256 

/* ************************************************************************** */
/* ************************************************************************** */

typedef struct malloc_node
{
   size_t m_size;
   void* m_memory;

} malloc_node;

/* ************************************************************************** */
/* ************************************************************************** */

typedef enum { MALLOC_REMOVE, MALLOC_INSERT, MALLOC_UPDATE } MALLOC_STATE;

/* ************************************************************************** */
/* ************************************************************************** */

struct bn_tree malloc_tree;

/* ************************************************************************** */
/* ************************************************************************** */

char* itoa(int, char*, int);
void free(void*);
void* malloc(size_t);
static void* manage_free_list(void*, MALLOC_STATE);
char* uitoa(unsigned int, char*, int);

/* ************************************************************************** */
/* ************************************************************************** */

#endif /* __STDLIB_H__ */

/* ************************************************************************** */
/* ************************************************************************** */
